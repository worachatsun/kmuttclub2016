<?php

namespace App\Http\Controllers;


use App\Repositories\ClubRepositoryInterface;
use Illuminate\Http\Request;
use Input;
use Session;
use Adldap;

class LDAPLoadController extends Controller
{


    public function getIndex(){
        $students = array (
        [ 'std_id' => '57070500623', 'club_id' =>'1'],
        [ 'std_id' => '57070501612', 'club_id' =>'1'],
        [ 'std_id' => '57070503442', 'club_id' =>'1'],
        [ 'std_id' => '57070501637', 'club_id' =>'1'],
        [ 'std_id' => '58070500306', 'club_id' =>'1'],
        [ 'std_id' => '57080500820', 'club_id' =>'1'],
        [ 'std_id' => '58070501088', 'club_id' =>'1'],
        [ 'std_id' => '57080502282', 'club_id' =>'1'],
        [ 'std_id' => '58070500623', 'club_id' =>'1'],
        [ 'std_id' => '57090501203', 'club_id' =>'1'],
        [ 'std_id' => '57090500859', 'club_id' =>'2'],
        [ 'std_id' => '57070501602', 'club_id' =>'2'],
        [ 'std_id' => '57070501626', 'club_id' =>'2'],
        [ 'std_id' => '57070500870', 'club_id' =>'2'],
        [ 'std_id' => '58080502278', 'club_id' =>'2'],
        [ 'std_id' => '57070500853', 'club_id' =>'2'],
        [ 'std_id' => '57070501202', 'club_id' =>'2'],
        [ 'std_id' => '57070500862', 'club_id' =>'6'],
        [ 'std_id' => '57070503228', 'club_id' =>'6'],
        [ 'std_id' => '57070501206', 'club_id' =>'6'],
        [ 'std_id' => '57070501837', 'club_id' =>'6'],
        [ 'std_id' => '57090500836', 'club_id' =>'6'],
        [ 'std_id' => '57080502277', 'club_id' =>'6'],
        [ 'std_id' => '57070503237', 'club_id' =>'6'],
        [ 'std_id' => '57090500626', 'club_id' =>'6'],
        [ 'std_id' => '57070503276', 'club_id' =>'6'],
        [ 'std_id' => '57090500835', 'club_id' =>'6'],
        [ 'std_id' => '57090500811', 'club_id' =>'6'],
        [ 'std_id' => '57090500825', 'club_id' =>'6'],
        [ 'std_id' => '57080502302', 'club_id' =>'6'],
        [ 'std_id' => '56070502226', 'club_id' =>'5'],
        [ 'std_id' => '57340500077', 'club_id' =>'5'],
        [ 'std_id' => '57070502230', 'club_id' =>'5'],
        [ 'std_id' => '56070502485', 'club_id' =>'5'],
        [ 'std_id' => '56070502244', 'club_id' =>'5'],
        [ 'std_id' => '58070502220', 'club_id' =>'5'],
        [ 'std_id' => '58070502222', 'club_id' =>'5'],
        [ 'std_id' => '58070502241', 'club_id' =>'5'],
        [ 'std_id' => '58070502221', 'club_id' =>'5'],
        [ 'std_id' => '58070502206', 'club_id' =>'5'],
        [ 'std_id' => '56070502670', 'club_id' =>'4'],
        [ 'std_id' => '56070500229', 'club_id' =>'4'],
        [ 'std_id' => '56070502607', 'club_id' =>'4'],
        [ 'std_id' => '56070502687', 'club_id' =>'4'],
        [ 'std_id' => '56070502653', 'club_id' =>'4'],
        [ 'std_id' => '56070502628', 'club_id' =>'4'],
        [ 'std_id' => '56070502689', 'club_id' =>'4'],
        [ 'std_id' => '56070502636', 'club_id' =>'4'],
        [ 'std_id' => '57070501212', 'club_id' =>'4'],
        [ 'std_id' => '56070502657', 'club_id' =>'4'],
        [ 'std_id' => '56070502476', 'club_id' =>'7'],
        [ 'std_id' => '57070503818', 'club_id' =>'7'],
        [ 'std_id' => '56070502471', 'club_id' =>'7'],
        [ 'std_id' => '57070502471', 'club_id' =>'7'],
        [ 'std_id' => '56070502442', 'club_id' =>'7'],
        [ 'std_id' => '56070502467', 'club_id' =>'7'],
        [ 'std_id' => '57070502440', 'club_id' =>'7'],
        [ 'std_id' => '56070502448', 'club_id' =>'7'],
        [ 'std_id' => '56070502459', 'club_id' =>'7'],
        [ 'std_id' => '56070502476', 'club_id' =>'7'],
        [ 'std_id' => '57080501466', 'club_id' =>'9'],
        [ 'std_id' => '57070503425', 'club_id' =>'9'],
        [ 'std_id' => '57080501428', 'club_id' =>'9'],
        [ 'std_id' => '57080501407', 'club_id' =>'9'],
        [ 'std_id' => '57080501444', 'club_id' =>'9'],
        [ 'std_id' => '57080501411', 'club_id' =>'9'],
        [ 'std_id' => '57070503469', 'club_id' =>'9'],
        [ 'std_id' => '58130500204', 'club_id' =>'9'],
        [ 'std_id' => '58070500657', 'club_id' =>'29'],
        [ 'std_id' => '58070502410', 'club_id' =>'29'],
        [ 'std_id' => '56070500201', 'club_id' =>'29'],
        [ 'std_id' => '58070503253', 'club_id' =>'29'],
        [ 'std_id' => '58070500665', 'club_id' =>'29'],
        [ 'std_id' => '56080500011', 'club_id' =>'29'],
        [ 'std_id' => '58070503213', 'club_id' =>'29'],
        [ 'std_id' => '56070501654', 'club_id' =>'26'],
        [ 'std_id' => '56070500343', 'club_id' =>'26'],
        [ 'std_id' => '57070500815', 'club_id' =>'26'],
        [ 'std_id' => '57070500842', 'club_id' =>'26'],
        [ 'std_id' => '56080502292', 'club_id' =>'26'],
        [ 'std_id' => '56080502487', 'club_id' =>'26'],
        [ 'std_id' => '57080502287', 'club_id' =>'26'],
        [ 'std_id' => '56070500502', 'club_id' =>'26'],
        [ 'std_id' => '56080502327', 'club_id' =>'26'],
        [ 'std_id' => '57340500084', 'club_id' =>'27'],
        [ 'std_id' => '57340500026', 'club_id' =>'27'],
        [ 'std_id' => '58070503606', 'club_id' =>'27'],
        [ 'std_id' => '58130500061', 'club_id' =>'27'],
        [ 'std_id' => '58070500639', 'club_id' =>'27'],
        [ 'std_id' => '58130500048', 'club_id' =>'27'],
        [ 'std_id' => '57080502473', 'club_id' =>'27'],
        [ 'std_id' => '56080500801', 'club_id' =>'27'],
        [ 'std_id' => '56070502453', 'club_id' =>'39'],
        [ 'std_id' => '56070502480', 'club_id' =>'39'],
        [ 'std_id' => '56070500271', 'club_id' =>'39'],
        [ 'std_id' => '56070502838', 'club_id' =>'39'],
        [ 'std_id' => '56070502470', 'club_id' =>'39'],
        [ 'std_id' => '57090500404', 'club_id' =>'39'],
        [ 'std_id' => '58070502429', 'club_id' =>'39'],
        [ 'std_id' => '58070501645', 'club_id' =>'40'],
        [ 'std_id' => '58340500074', 'club_id' =>'40'],
        [ 'std_id' => '58080502021', 'club_id' =>'40'],
        [ 'std_id' => '58080502043', 'club_id' =>'40'],
        [ 'std_id' => '58080501216', 'club_id' =>'40'],
        [ 'std_id' => '58080501221', 'club_id' =>'40'],
        [ 'std_id' => '58080502022', 'club_id' =>'40'],
        [ 'std_id' => '58080501212', 'club_id' =>'40'],
        [ 'std_id' => '57070500321', 'club_id' =>'33'],
        [ 'std_id' => '57070503615', 'club_id' =>'33'],
        [ 'std_id' => '58080500500', 'club_id' =>'33'],
        [ 'std_id' => '58130500100', 'club_id' =>'33'],
        [ 'std_id' => '57070500238', 'club_id' =>'33'],
        [ 'std_id' => '58070502227', 'club_id' =>'33'],
        [ 'std_id' => '58080502259', 'club_id' =>'33'],
        [ 'std_id' => '58080500263', 'club_id' =>'33'],
        [ 'std_id' => '57080501608', 'club_id' =>'32'],
        [ 'std_id' => '57090500688', 'club_id' =>'32'],
        [ 'std_id' => '57080500487', 'club_id' =>'32'],
        [ 'std_id' => '58340500048', 'club_id' =>'32'],
        [ 'std_id' => '57080500438', 'club_id' =>'32'],
        [ 'std_id' => '57080501663', 'club_id' =>'32'],
        [ 'std_id' => '57080501632', 'club_id' =>'32'],
        [ 'std_id' => '57120500227', 'club_id' =>'32'],
        [ 'std_id' => '56070503429', 'club_id' =>'28'],
        [ 'std_id' => '56070500445', 'club_id' =>'28'],
        [ 'std_id' => '56070500251', 'club_id' =>'28'],
        [ 'std_id' => '56080502278', 'club_id' =>'28'],
        [ 'std_id' => '56080500462', 'club_id' =>'28'],
        [ 'std_id' => '58080501206', 'club_id' =>'28'],
        [ 'std_id' => '58070504032', 'club_id' =>'28'],
        [ 'std_id' => '58090500028', 'club_id' =>'28'],
        [ 'std_id' => '58070500663', 'club_id' =>'28'],
        [ 'std_id' => '56070500617', 'club_id' =>'29'],
        [ 'std_id' => '56080502450', 'club_id' =>'29'],
        [ 'std_id' => '57090500839', 'club_id' =>'29'],
        [ 'std_id' => '57340500007', 'club_id' =>'29'],
        [ 'std_id' => '56080502425', 'club_id' =>'29'],
        [ 'std_id' => '56070502052', 'club_id' =>'29'],
        [ 'std_id' => '58070502052', 'club_id' =>'29'],
        [ 'std_id' => '58080500026', 'club_id' =>'29'],
        [ 'std_id' => '58080502606', 'club_id' =>'29'],
        [ 'std_id' => '58080500211', 'club_id' =>'29'],
        [ 'std_id' => '57090500609', 'club_id' =>'30'],
        [ 'std_id' => '57080500006', 'club_id' =>'30'],
        [ 'std_id' => '57080500073', 'club_id' =>'30'],
        [ 'std_id' => '57080500428', 'club_id' =>'30'],
        [ 'std_id' => '59080500464', 'club_id' =>'30'],
        [ 'std_id' => '59080500044', 'club_id' =>'30'],
        [ 'std_id' => '57080502014', 'club_id' =>'31'],
        [ 'std_id' => '57070500320', 'club_id' =>'31'],
        [ 'std_id' => '58070500229', 'club_id' =>'31'],
        [ 'std_id' => '56070500268', 'club_id' =>'31'],
        [ 'std_id' => '58070502640', 'club_id' =>'31'],
        [ 'std_id' => '58070502645', 'club_id' =>'31'],
        [ 'std_id' => '56070500247', 'club_id' =>'31'],
        [ 'std_id' => '56070501813', 'club_id' =>'36'],
        [ 'std_id' => '56070501806', 'club_id' =>'36'],
        [ 'std_id' => '57080502204', 'club_id' =>'36'],
        [ 'std_id' => '56070500688', 'club_id' =>'36'],
        [ 'std_id' => '56070501814', 'club_id' =>'36'],
        [ 'std_id' => '56070500340', 'club_id' =>'36'],
        [ 'std_id' => '58080500076', 'club_id' =>'36'],
        [ 'std_id' => '56070501812', 'club_id' =>'36'],
        [ 'std_id' => '56080502440', 'club_id' =>'36'],
        [ 'std_id' => '57070502615', 'club_id' =>'36'],
        [ 'std_id' => '58080502264', 'club_id' =>'36'],
        [ 'std_id' => '57070503821', 'club_id' =>'23'],
        [ 'std_id' => '58070503607', 'club_id' =>'23'],
        [ 'std_id' => '56080501429', 'club_id' =>'23'],
        [ 'std_id' => '56080500202', 'club_id' =>'23'],
        [ 'std_id' => '57080500271', 'club_id' =>'23'],
        [ 'std_id' => '57070503034', 'club_id' =>'23'],
        [ 'std_id' => '57070504019', 'club_id' =>'23'],
        [ 'std_id' => '57070502464', 'club_id' =>'15'],
        [ 'std_id' => '57080502286', 'club_id' =>'15'],
        [ 'std_id' => '58090500615', 'club_id' =>'15'],
        [ 'std_id' => '58080502429', 'club_id' =>'15'],
        [ 'std_id' => '58080500814', 'club_id' =>'15'],
        [ 'std_id' => '58080500466', 'club_id' =>'15'],
        [ 'std_id' => '56080502008', 'club_id' =>'15'],
        [ 'std_id' => '56080502250', 'club_id' =>'15'],
        [ 'std_id' => '58340500028', 'club_id' =>'15'],
        [ 'std_id' => '57080502610', 'club_id' =>'19'],
        [ 'std_id' => '57070502487', 'club_id' =>'19'],
        [ 'std_id' => '58070500609', 'club_id' =>'19'],
        [ 'std_id' => '57080500041', 'club_id' =>'19'],
        [ 'std_id' => '58090500013', 'club_id' =>'19'],
        [ 'std_id' => '57070502018', 'club_id' =>'19'],
        [ 'std_id' => '58070502036', 'club_id' =>'19'],
        [ 'std_id' => '57070500317', 'club_id' =>'19'],
        [ 'std_id' => '58070502827', 'club_id' =>'19'],
        [ 'std_id' => '57070502027', 'club_id' =>'19'],
        [ 'std_id' => '57070503223', 'club_id' =>'19'],
        [ 'std_id' => '58080502620', 'club_id' =>'19'],
        [ 'std_id' => '57080502016', 'club_id' =>'14'],
        [ 'std_id' => '58080500479', 'club_id' =>'14'],
        [ 'std_id' => '57070501810', 'club_id' =>'14'],
        [ 'std_id' => '58080502033', 'club_id' =>'14'],
        [ 'std_id' => '58070501633', 'club_id' =>'14'],
        [ 'std_id' => '59070502497', 'club_id' =>'14'],
        [ 'std_id' => '57070503280', 'club_id' =>'14'],
        [ 'std_id' => '58080501526', 'club_id' =>'14'],
        [ 'std_id' => '58090500032', 'club_id' =>'14'],
        [ 'std_id' => '58070503021', 'club_id' =>'14'],
        [ 'std_id' => '57080502046', 'club_id' =>'14'],
        [ 'std_id' => '57080502021', 'club_id' =>'14'],
        [ 'std_id' => '57080502041', 'club_id' =>'14'],
        [ 'std_id' => '57080502403', 'club_id' =>'12'],
        [ 'std_id' => '57070502637', 'club_id' =>'12'],
        [ 'std_id' => '57070502635', 'club_id' =>'12'],
        [ 'std_id' => '57070500083', 'club_id' =>'12'],
        [ 'std_id' => '56070500096', 'club_id' =>'12'],
        [ 'std_id' => '58090500027', 'club_id' =>'12'],
        [ 'std_id' => '58070502457', 'club_id' =>'12'],
        [ 'std_id' => '58070502490', 'club_id' =>'12'],
        [ 'std_id' => '58070502467', 'club_id' =>'12'],
        [ 'std_id' => '58070502476', 'club_id' =>'12'],
);


    foreach ($students as $stu) {
        //print_r($stu);
        echo $stu['std_id'];
        $data = Adldap::getDefaultProvider()->search()->where('uid', '=', $stu['std_id'])->first();
        $name = array_get($data, 'attributes.displayname.0').' '.array_get($data, 'attributes.givenname.0');
        $mail = array_get($data, 'attributes.mail.0');
        $faculty = explode("/", array_get($data, 'attributes.homedirectory.0') );
        echo $name." |email ".$mail." faculty ".$faculty[2];
        //print_r($faculty);
        echo "<br><hr>";
    }
    //

    }


}
